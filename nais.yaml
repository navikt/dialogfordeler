name: dialogfordeler
image: "docker.adeo.no:5000/syfo/dialogfordeler"
replicas:
  min: 1
  max: 2
  cpuThresholdPercentage: 80
port: 8080
healthcheck:
  liveness:
    path: /isAlive
    initialDelay: 30
    periodSeconds: 2
    failureThreshold: 90
  readiness:
    path: /isReady
    initialDelay: 30
    periodSeconds: 2
    failureThreshold: 90
prometheus:
  enabled: true
  path: /prometheus
resources:
  limits:
    cpu: 1000m
    memory: 384Mi
  requests:
    cpu: 100m
    memory: 256Mi
fasitResources:
  exposed:
  - alias: dialogfordelerApi
    resourceType: restservice
    path: /api
  used:
  - alias: srvdialogfordeler
    resourceType: credential
    propertyMap:
      username: SERVICEUSER_USERNAME
      password: SERVICEUSER_PASSWORD
  - alias: abac.pdp.endpoint
    resourceType: restservice
    propertyMap:
      url: ABAC_URL
  - alias: isso-jwks
    resourceType: baseurl
  - alias: isso-issuer
    resourceType: baseurl
  - alias: mqGateway03
    resourceType: queueManager
  - alias: dialogfordeler_channel
    resourceType: channel
  - alias: "dialogfordeler_dialogmeldinger" #QA.T1_DIALOGFORDELER.DIALOGMELDINGER
    resourceType: queue
  - alias: "mottak_queue_eia2_meldinger" #QA.T414.FS06_EIA_MELDINGER
    resourceType: queue
  - alias: "mottak_queue_utsending" #QA.Q414.IU03_UTSENDING
    resourceType: queue
  - alias: dialogfordelerProperties
    resourceType: applicationproperties
  - alias: dialogfordelerDB
    resourceType: datasource
    propertyMap:
      url: SPRING_DATASOURCE_URL
      username: SPRING_DATASOURCE_USERNAME
      password: SPRING_DATASOURCE_PASSWORD